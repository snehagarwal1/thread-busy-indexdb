<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Thread Busyness Demo</title>
    <script type="module" src="src/fetch-batch-fwd.js" defer></script>
    <script src="src/main.js" defer></script>
    <script src="src/worker.js" defer></script>
</head>
<body>
    <h2>Start Simulation: Main thread busy. Worker thread fetched records from IndexedDB<h2>
    <button id="fetch-batch-fwd">Fetch In Batch Forward</button>

    <!-- <button id="fetch-batch-key-fwd">Fetch In Batch By Keys Forward</button> -->
    
    <h2>Employee Records Fetched by Worker (in batches)</h2>
    <div id="records-list"></div>

    <h2>UI thread Status</h2>
    <div id="fake-calculation-task-status"></div>

    <h1>Employee Record</h1>
</br>
</br>
<div>
    <input type="number" id="randomCount" placeholder="Number of Employees" style="width: 150px;">
    <input type="number" id="recordSize" placeholder="size per record in KB" style="width: 150px;">
    <button onclick="addRandomEmployees()">Add Random Employees</button>
    <button onclick="deleteAllEmployees()">Delete All Employees</button> <!-- Delete All Employees Button -->
</div>
</br>
</br>
<div id="performance"></div>
<div id="totalRecordSize"></div>
</br>
<button onclick="clearPerformanceAndSizeData()">Clear performance and size data</button>
</br>

<!-- Batch retrieval and deletion controls in forward direction-->
<div>
    <h3>Batch Retrieval and Deletion in forward direction</h3>
    <input type="number" id="batchSize" placeholder="Batch size value">
    <button onclick="fetchEmployeesInBatch()">Fetch all employees (old API getAll())</button> 
    <button onclick="fetchEmployeesInBatchWithNewApi()">Fetch Employees (new API getAllEntries())</button> 
    <input type="number" id="keyStart" placeholder="Starting Key value">
    <button onclick="triggerFetchEmployeesByKeysInBatch()">Fetch all employees by keys (old API getAllKeys())</button> 
   
    <!-- <button onclick="deleteEmployeeRecordsInBatch()">Delete Employees in  batch</button> -->
    <button onclick="clearEmployeeList()">Clear Employee List</button> <!-- Clear Employee List Button -->
</div>

<ul id="employeeList">
    <!-- Employees will be listed here -->
</ul>


<!-- Batch retrieval and deletion controls in reverse direction-->
<div>
    <h3>Batch Retrieval and Deletion in reverse direction</h3>
    <input type="number" id="batchSizeReverse" placeholder="Batch size value">
    <button onclick="fetchRecordsInBatchReverse()">Fetch Employees (old API(openCursor()))</button> 
    <button onclick="fetchRecordsInBatchWithNewApi()">Fetch Employees (new API getAllEntries())</button> 
    <input type="number" id="keyStartReverse" placeholder="Starting Key value">
    <button onclick="fetchRecordsInBatchByKeysReverse()">Fetch Employees (old API openKeyCursor())</button> 

    <!-- <button onclick="deleteRecordsInBatch()">Delete Employees in  batch</button> -->
    <button onclick="clearEmployeeListReverse()">Clear Employee List</button> <!-- Clear Employee List Button -->
</div>

<ul id="employeeListReverse">
    <!-- Employees will be listed here -->
</ul>

</br>
<h3>-------------All Employees------------</h3>
<button onclick="refreshAndDisplayRecords()">Refresh</button>
<ul id="allEmployees">
    <!-- Employees will be listed here -->
</ul>

</body>
</html>